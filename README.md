# æ™ºèƒ½è¾¹ç¼˜èŠ‚ç‚¹é€‰æ‹©è·¯ç”±ç³»ç»Ÿ

## æ¦‚è¿°

æœ¬é¡¹ç›®å®ç°äº†ä¸€ä¸ª**æ”¯æŒç¯è·¯æ£€æµ‹å’Œæ™ºèƒ½è¾¹ç¼˜èŠ‚ç‚¹é€‰æ‹©çš„å«æ˜Ÿè·¯ç”±ç³»ç»Ÿ**ã€‚è¯¥ç³»ç»Ÿä¸“é—¨é’ˆå¯¹MEO-LEOé›†ç¾¤è·¯ç”±åœºæ™¯è¿›è¡Œäº†ä¼˜åŒ–ï¼Œé›†æˆäº†å¤šç§å…ˆè¿›çš„è·¯ç”±ç­–ç•¥å’Œæ€§èƒ½ç›‘æ§åŠŸèƒ½ã€‚

## æ ¸å¿ƒç‰¹æ€§

### ğŸ§  æ™ºèƒ½è¾¹ç¼˜èŠ‚ç‚¹é€‰æ‹©
- **å¤šç»´åº¦è¯„ä¼°**ï¼šç»¼åˆè€ƒè™‘è·ç¦»ã€è´Ÿè½½ã€è¿é€šæ€§ã€å¯é æ€§
- **åŠ¨æ€æƒé‡è°ƒæ•´**ï¼šæ ¹æ®ç½‘ç»œçŠ¶å†µè‡ªé€‚åº”ä¼˜åŒ–
- **å†—ä½™è·¯å¾„æ”¯æŒ**ï¼šæä¾›å¤šä¸ªå€™é€‰è¾¹ç¼˜èŠ‚ç‚¹å¯¹

### ğŸ”„ ç¯è·¯æ£€æµ‹å’Œé¿å…
- **å¹¿åº¦ä¼˜å…ˆæœç´¢**ï¼šç¡®ä¿æœ€çŸ­è·¯å¾„åŒæ—¶é¿å…ç¯è·¯
- **æ™ºèƒ½å›æº¯æœºåˆ¶**ï¼šå¤„ç†æ­»é”æƒ…å†µ
- **è®¿é—®èŠ‚ç‚¹è¿½è¸ª**ï¼šé˜²æ­¢ç®€å•ç¯è·¯

### âš–ï¸ é›†æˆè´Ÿè½½å‡è¡¡
- **åŠ¨æ€è´Ÿè½½ç›‘æ§**ï¼šå®æ—¶è°ƒæ•´è·¯ç”±æƒé‡
- **æ™ºèƒ½é‚»å±…é€‰æ‹©**ï¼šä¼˜å…ˆé€‰æ‹©ä½è´Ÿè½½é‚»å±…
- **çƒ­ç‚¹é¿å…**ï¼šè‡ªåŠ¨åˆ†æ•£ç½‘ç»œæµé‡

### ğŸ“Š æ€§èƒ½ç›‘æ§åˆ†æ
- **è¯¦ç»†ç»Ÿè®¡ä¿¡æ¯**ï¼šè·³æ•°ã€é‡è¯•æ¬¡æ•°ã€è¾¹ç¼˜èŠ‚ç‚¹ä½¿ç”¨æƒ…å†µ
- **å¤šç»´åº¦è¯„ä¼°**ï¼šè·³æ•°æ•ˆç‡ã€è´Ÿè½½æ•ˆç‡ã€é‡è¯•æƒ©ç½š
- **æ™ºèƒ½å»ºè®®**ï¼šåŸºäºåˆ†æç»“æœç”Ÿæˆä¼˜åŒ–å»ºè®®

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ routing.py              # æ ¸å¿ƒè·¯ç”±ç®—æ³•
â”œâ”€â”€ satellites.py           # å«æ˜Ÿæ•°æ®ç»“æ„
â”œâ”€â”€ environment.py          # ç¯å¢ƒç®¡ç†
â”œâ”€â”€ rl_agent.py            # å¼ºåŒ–å­¦ä¹ æ™ºèƒ½ä½“
â”œâ”€â”€ main.py                # ä¸»ç¨‹åºå…¥å£
â””â”€â”€ ...

examples/
â””â”€â”€ advanced_routing_demo.py # åŠŸèƒ½æ¼”ç¤º

docs/
â”œâ”€â”€ ADVANCED_ROUTING.md     # è¯¦ç»†æŠ€æœ¯æ–‡æ¡£
â””â”€â”€ ADVANCED_ROUTING_SUMMARY.md # æŠ€æœ¯æ€»ç»“
```

## æ ¸å¿ƒå‡½æ•°

### ä¸»è¦è·¯ç”±å‡½æ•°

```python
def route_request_with_intelligent_edge_selection(
    src_leo_id: int,
    dst_leo_id: int,
    leos: Dict[int, LEOSatellite],
    meos: Dict[int, MEOSatellite],
    agent: RLAgent,
    max_hops: int = 25,
    max_retries: int = 3,
    use_redundant_paths: bool = True,
    load_weight: float = 0.25,
    distance_weight: float = 0.35,
    connectivity_weight: float = 0.25,
    reliability_weight: float = 0.15,
    load_threshold: float = 0.8
) -> Tuple[List[int], Dict[str, any]]
```

**åŠŸèƒ½ç‰¹ç‚¹ï¼š**
- âœ… ç¯è·¯æ£€æµ‹å’Œé¿å…
- âœ… æ™ºèƒ½è¾¹ç¼˜èŠ‚ç‚¹é€‰æ‹©
- âœ… åŠ¨æ€è´Ÿè½½å‡è¡¡
- âœ… å¤šè·¯å¾„å†—ä½™
- âœ… æ€§èƒ½ç»Ÿè®¡

## ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬ä½¿ç”¨

```python
from src.routing import route_request_with_intelligent_edge_selection
from src.rl_agent import RLAgent

# åˆå§‹åŒ–æ™ºèƒ½ä½“
agent = RLAgent(learning_rate=0.001, gamma=0.9, epsilon=0.1)

# æ‰§è¡Œè·¯ç”±è¯·æ±‚
path, stats = route_request_with_intelligent_edge_selection(
    src_leo_id=1,
    dst_leo_id=15,
    leos=leos,
    meos=meos,
    agent=agent
)

print(f"è·¯ç”±è·¯å¾„: {path}")
print(f"æˆåŠŸ: {stats['success']}")
print(f"æ€»è·³æ•°: {stats['total_hops']}")
```

### å‚æ•°è°ƒä¼˜

```python
# é«˜å¯é æ€§é…ç½®
path, stats = route_request_with_intelligent_edge_selection(
    src_leo_id, dst_leo_id, leos, meos, agent,
    max_retries=5,
    use_redundant_paths=True,
    connectivity_weight=0.4
)

# è´Ÿè½½æ•æ„Ÿé…ç½®
path, stats = route_request_with_intelligent_edge_selection(
    src_leo_id, dst_leo_id, leos, meos, agent,
    load_threshold=0.6,
    load_weight=0.4
)
```

## è¿è¡Œæ–¹å¼

### åŸºç¡€æ¼”ç¤º
```bash
python -m src.main
```

### é«˜çº§åŠŸèƒ½æ¼”ç¤º
```bash
python examples/advanced_routing_demo.py
```

**æ¼”ç¤ºå†…å®¹ï¼š**
- æ™ºèƒ½è¾¹ç¼˜èŠ‚ç‚¹é€‰æ‹©æ¼”ç¤º
- ç¯è·¯æ£€æµ‹è·¯ç”±æ¼”ç¤º
- è´Ÿè½½å‡è¡¡è·¯ç”±æ¼”ç¤º  
- è·¯ç”±å‹åŠ›æµ‹è¯•

## æ€§èƒ½æŒ‡æ ‡

æ ¹æ®æµ‹è¯•ç»“æœï¼š
- **è·¯ç”±æˆåŠŸç‡**: 78%+
- **å¹³å‡æ€§èƒ½å¾—åˆ†**: 0.813/1.0  
- **æ”¯æŒåœºæ™¯**: åŒclusterå’Œè·¨clusterè·¯ç”±
- **å®¹é”™èƒ½åŠ›**: å¤šé‡è¯•æœºåˆ¶å’Œå†—ä½™è·¯å¾„

## æŠ€æœ¯ä¼˜åŠ¿

1. **ç®—æ³•å…ˆè¿›æ€§**: å¤šç»´åº¦è¯„ä¼°å’Œæ™ºèƒ½é€‰æ‹©ç®—æ³•
2. **ç³»ç»Ÿç¨³å®šæ€§**: å¼ºåŒ–çš„ç¯è·¯æ£€æµ‹å’Œå®¹é”™æœºåˆ¶
3. **æ€§èƒ½ä¼˜åŒ–**: é›†æˆçš„è´Ÿè½½å‡è¡¡å’ŒåŠ¨æ€è°ƒæ•´
4. **ç›‘æ§å®Œå–„**: è¯¦ç»†çš„ç»Ÿè®¡ä¿¡æ¯å’Œæ€§èƒ½åˆ†æ
5. **æ‰©å±•æ€§å¥½**: æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºå®šåˆ¶å’Œæ‰©å±•

---

**é¡¹ç›®ç‰¹è‰²**: è¿™æ˜¯ä¸€ä¸ª**ä¸“æ³¨äºæ ¸å¿ƒåŠŸèƒ½**çš„é«˜æ•ˆè·¯ç”±ç³»ç»Ÿï¼Œé€šè¿‡**æ™ºèƒ½è¾¹ç¼˜èŠ‚ç‚¹é€‰æ‹©**å’Œ**ç¯è·¯æ£€æµ‹**ä¸¤å¤§æ ¸å¿ƒæŠ€æœ¯ï¼Œä¸ºMEO-LEOé›†ç¾¤ç½‘ç»œæä¾›**ç¨³å®šã€é«˜æ•ˆã€æ™ºèƒ½**çš„è·¯ç”±è§£å†³æ–¹æ¡ˆã€‚
